<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lotería Cubana - Suspense Máximo</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #111;
  color: #fff;
  text-align: center;
  padding: 40px;
}
h1 {
  margin-bottom: 30px;
  color: gold;
  text-shadow: 0 0 10px #ff0;
  font-size: 2.5rem;
}
.slot-machine {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin: 15px 0;
}
.digit-container {
  width: 40px;
  height: 70px;
  overflow: hidden;
  border: 2px solid #555;
  border-radius: 8px;
  background: #222;
  box-shadow: 0 0 10px rgba(255,255,255,0.2);
}
.digit-strip {
  font-size: 2rem;
  display: flex;
  flex-direction: column;
  transform: translateY(0);
}
.digit-strip span {
  height: 70px;
  display: flex;
  align-items: center;
  justify-content: center;
}
button {
  margin-top: 10px;
  margin-bottom: 5px;
  padding: 8px 22px;
  font-size: 0.95rem;
  background: #4CAF50;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  color: #fff;
  box-shadow: 0 0 8px #4CAF50;
  transition: 0.3s;
}
button:hover {
  background: #66BB6A;
  box-shadow: 0 0 15px #66BB6A;
}
.mensaje {
  font-size: 0.85rem;
  color: #ffcc00;
  margin-bottom: 20px;
  font-weight: bold;
}
</style>
</head>
<body>

<h1>Lotería Cubana</h1>

<!-- Contadores 1 a 5 dígitos -->
<div id="contador1" class="slot-machine"></div>
<button onclick="generarNumeroSuspense('contador1',1)">✨ ¡Gira tu Suerte! ✨</button>
<div class="mensaje">Buena suerte hoy ♥️</div>

<div id="contador2" class="slot-machine"></div>
<button onclick="generarNumeroSuspense('contador2',2)">💫 ¡Descubre tu Número! 💫</button>
<div class="mensaje">Que la suerte te acompañe ♥️</div>

<div id="contador3" class="slot-machine"></div>
<button onclick="generarNumeroSuspense('contador3',3)">🌟 ¡Haz tu Giro Mágico! 🌟</button>
<div class="mensaje">Hoy puede ser tu día ♥️</div>

<div id="contador4" class="slot-machine"></div>
<button onclick="generarNumeroSuspense('contador4',4)">🎉 ¡Prueba tu Suerte! 🎉</button>
<div class="mensaje">¡Que salga el ganador! ♥️</div>

<div id="contador5" class="slot-machine"></div>
<button onclick="generarNumeroSuspense('contador5',5)">🏆 ¡Premio Mayor! 🏆</button>
<div class="mensaje">¡La fortuna te sonríe hoy ♥️</div>

<script>
// Crear contador con cualquier cantidad de dígitos
function crearContador(id, numDigitos){
  const contenedor = document.getElementById(id);
  contenedor.innerHTML = "";
  for(let i=0; i<numDigitos; i++){
    const div = document.createElement("div");
    div.classList.add("digit-container");
    const strip = document.createElement("div");
    strip.classList.add("digit-strip");
    div.appendChild(strip);
    contenedor.appendChild(div);

    for(let j=0; j<40; j++){
      for(let n=0; n<=9; n++){
        const span = document.createElement("span");
        span.textContent = n;
        strip.appendChild(span);
      }
    }
  }
}

// Número secreto aleatorio
function generarNumeroSecreto(){
  return Math.floor(Math.random()*10);
}

// Función de suspense máximo tipo casino
function generarNumeroSuspense(id, numDigitos){
  const contenedor = document.getElementById(id);
  const strips = contenedor.querySelectorAll(".digit-strip");

  let numeroBase = "";
  for(let i=0; i<numDigitos; i++){
    numeroBase += Math.floor(Math.random()*10);
  }

  strips.forEach((strip,i)=>{
    const digito = parseInt(numeroBase[i]);
    const secreto = generarNumeroSecreto();
    const numeroFinal = (digito + secreto) % 10;

    const totalSpans = strip.children.length;
    const vueltas = 25 + i*10; // más vueltas para mayor suspense
    let offset = -(vueltas*10 + numeroFinal) * 70;
    const maxOffset = -(totalSpans - 10) * 70;
    if(offset < maxOffset) offset = maxOffset;

    strip.style.transition = "none";
    strip.style.transform = "translateY(0)";
    void strip.offsetWidth; // reinicia transición

    strip.style.transition = `transform ${2 + i*0.8}s cubic-bezier(0.25,1,0.5,1)`;
    strip.style.transform = `translateY(${offset}px)`;

    // rebotes finales
    const rebotes = [8,5,2];
    rebotes.forEach((r,j)=>{
      setTimeout(()=>{
        strip.style.transition = `transform 0.2s ease-out`;
        strip.style.transform = `translateY(${offset+r}px)`;
        setTimeout(()=>{
          strip.style.transition = `transform 0.15s ease-in`;
          strip.style.transform = `translateY(${offset}px)`;
        },150);
      }, 2000 + i*300 + j*200);
    });
  });
}

// Inicializar todos los contadores
crearContador("contador1",1);
crearContador("contador2",2);
crearContador("contador3",3);
crearContador("contador4",4);
crearContador("contador5",5);
</script>

</body>
</html>
