<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loter√≠a - Contadores Divertidos</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #111;
    color: #fff;
    text-align: center;
    padding: 40px;
  }
  h1 {
    margin-bottom: 30px;
    color: gold;
    text-shadow: 0 0 10px #ff0;
  }
  .slot-machine {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 15px 0;
  }
  .digit-container {
    width: 45px;
    height: 80px;
    overflow: hidden;
    border: 2px solid #555;
    border-radius: 8px;
    background: #222;
    box-shadow: 0 0 10px rgba(255,255,255,0.2);
  }
  .digit-strip {
    font-size: 2.2rem;
    display: flex;
    flex-direction: column;
    transform: translateY(0);
  }
  .digit-strip span {
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  button {
    margin-top: 10px;
    margin-bottom: 5px;
    padding: 10px 25px;
    font-size: 1rem;
    background: #ff69b4;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    box-shadow: 0 0 10px #ff69b4;
    transition: 0.3s;
    color: #fff;
  }
  button:hover {
    background: #ff85c1;
    box-shadow: 0 0 20px #ff85c1;
  }
  .mensaje {
    font-size: 0.9rem;
    color: #ffcc00;
    margin-bottom: 20px;
    font-weight: bold;
  }
</style>
</head>
<body>

<h1>üé∞ Contadores Loter√≠a üé∞</h1>

<div id="contador2" class="slot-machine"></div>
<button onclick="generarNumeroContador('contador2', 2)">¬°Gira y Descubre! üé≤</button>
<div class="mensaje">Buena suerte hoy ‚ô•Ô∏è</div>

<div id="contador3" class="slot-machine"></div>
<button onclick="generarNumeroContador('contador3', 3)">¬°Int√©ntalo y gana! üçÄ</button>
<div class="mensaje">Que la suerte te acompa√±e ‚ô•Ô∏è</div>

<div id="contador4" class="slot-machine"></div>
<button onclick="generarNumeroContador('contador4', 4)">¬°Vamos a probar tu suerte! üé∞</button>
<div class="mensaje">Hoy puede ser tu d√≠a ‚ô•Ô∏è</div>

<script>
function crearContador(id, numDigitos) {
  const contenedor = document.getElementById(id);
  contenedor.innerHTML = "";
  for (let i = 0; i < numDigitos; i++) {
    const div = document.createElement("div");
    div.classList.add("digit-container");
    const strip = document.createElement("div");
    strip.classList.add("digit-strip");
    div.appendChild(strip);
    contenedor.appendChild(div);

    // inicializar la strip con n√∫meros
    for (let j = 0; j < 40; j++) {
      for (let n = 0; n <= 9; n++) {
        const span = document.createElement("span");
        span.textContent = n;
        strip.appendChild(span);
      }
    }
  }
}

// Funci√≥n que genera n√∫mero aleatorio y aplica animaci√≥n
function generarNumeroContador(id, numDigitos) {
  const contenedor = document.getElementById(id);
  const strips = contenedor.querySelectorAll(".digit-strip");
  const numeroGanador = String(Math.floor(Math.pow(10,numDigitos-1) + Math.random()*9*Math.pow(10,numDigitos-1)));

  strips.forEach((strip, i) => {
    const digito = parseInt(numeroGanador[i]);
    const totalSpans = strip.children.length;
    const vueltas = 20 + i*5;
    let offset = -(vueltas*10 + digito) * 80; // altura de span ajustada

    const maxOffset = -(totalSpans - 10) * 80;
    if (offset < maxOffset) offset = maxOffset;

    strip.style.transition = "none";
    strip.style.transform = "translateY(0)";
    void strip.offsetWidth;

    strip.style.transition = `transform ${2 + i*0.5}s cubic-bezier(0.25, 1, 0.5, 1)`;
    strip.style.transform = `translateY(${offset}px)`;

    const rebote = (vueltas > 10) ? 10 : 0;

    if (rebote > 0) {
      setTimeout(() => {
        strip.style.transition = `transform 0.2s ease-out`;
        strip.style.transform = `translateY(${offset+rebote}px)`;
        setTimeout(() => {
          strip.style.transition = `transform 0.1s ease-in`;
          strip.style.transform = `translateY(${offset}px)`;
        }, 200);
      }, (2000 + i*500));
    }
  });
}

// Inicializamos los contadores
crearContador("contador2", 2);
crearContador("contador3", 3);
crearContador("contador4", 4);
</script>
</body>
</html>
